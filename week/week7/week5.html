<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/week1/current.css">
    <link rel="stylesheet" href="/week2/calendar.css">
    <link rel="stylesheet" href="/week3/week.css">
    <link rel="stylesheet" href="/week2/main.css">
    <link rel="icon" href="/week2/icon2.png" type="image/png" sizes="72×72" />
    <link rel="stylesheet" href="/week4/portrait.css">

    <title>Document</title>

   
</head>

<body>

    <h3 class="background-text off-color" id="back">1900</h3>
    <h4 class="background-text off-color">Calendar</h4>


    <div id="current-day-info" class="color">
        <h1 id="app-name-landscape" class="off-color default-cursor center">My Calendar</h1>
        <div>
            <h2 id="cur-year" class="current-day-heading default-cursor center">2020</h2>
        </div>
        <div class="">
            <h1 id="cur-day" class="current-day-heading default-cursor center">Monday</h1>
            <h1 id="cur-month" class="current-day-heading default-cursor center">June</h1>
            <h1 id="cur-date" class="current-day-heading default-cursor center">1<sup>st</sup></h1>
        </div>
        <button id="theme-landscape" class="font button">Change theme</button>
    </div>

    <div id="calendar">
        <h1 id="app-name-portrait" class="center off-color">MyCalendar</h1>
        <table>
            <thead class="color">
                <tr>
                    <th colspan="7" class="border-color">
                        <h4 id="cal-year">2019</h4>
                        <div>
                            <i class="fas fa-caret-left icon"></i>
                            <h3 id="cal-month">January</h3><i class="fas fa-caret-right icon"></i>
                        </div>
                    </th>
                </tr>

                <tr>
                    <th class="weekday border-color">Sun</th>
                    <th class="weekday border-color">Mon</th>
                    <th class="weekday border-color">Tue</th>
                    <th class="weekday border-color">Wed</th>
                    <th class="weekday border-color">Thu</th>
                    <th class="weekday border-color">Fri</th>
                    <th class="weekday border-color">Sat</th>
                </tr>


            </thead>
            <tbody id="table-body" class="border-color">
                <tr>
                    <td id="current-day">1</td>
                    <td>1</td>
                    <td>1</td>
                    <td>1</td>
                    <td>1</td>
                    <td>1</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>1</td>
                    <td>1</td>
                    <td class="tooltip">3<img src="/week3/note2.png" /><span>這是提示！！！</span></td>
                    <td>1</td>
                    <td>1</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>1</td>
                    <td>1</td>
                    <td>1</td>
                    <td>1</td>
                    <td>1</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>1</td>
                    <td>1</td>
                    <td>1</td>
                    <td>1</td>
                    <td>1</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>1</td>
                    <td>1</td>
                    <td>1</td>
                    <td>1</td>
                    <td>1</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>1</td>
                    <td>1</td>
                    <td>1</td>
                    <td>1</td>
                    <td>1</td>
                    <td>1</td>
                </tr>
            </tbody>
        </table>
        <button id="theme-portrait" class="font button color">Change theme</button>
    </div>

    <dialog id="modal" hidden>
        <div id="fav-color" open>
            <div class="popup">
                <h4 class="center">What's your favorite color?</h4>
                <div id="color-options">
                    <div class="color-option">
                        <div class="color-preview" id="blue" style="background-color: #1B19CD;"><i
                                class="fas fa-check"></i></div>
                        <h5>Blue</h5>
                    </div>
                    <div class="color-option">
                        <div class="color-preview" id="red" style="background-color: #D01212;"></div>
                        <h5>Red</h5>
                    </div>
                    <div class="color-option">
                        <div class="color-preview" id="purple" style="background-color: #721D89;"></div>
                        <h5>Purple</h5>
                    </div>
                    <div class="color-option">
                        <div class="color-preview" id="green" style="background-color: #158348;"></div>
                        <h5>Green</h5>
                    </div>
                    <div class="color-option">
                        <div class="color-preview" id="orange" style="background-color: #EE742D;"></div>
                        <h5>Orange</h5>
                    </div>
                    <div class="color-option">
                        <div class="color-preview" id="deep-orange" style="background-color: #F13C26;"></div>
                        <h5>Deep Orange</h5>
                    </div>
                    <div class="color-option">
                        <div class="color-preview" id="baby-blue" style="background-color: #31B2FC;"></div>
                        <h5>Baby Blue</h5>
                    </div>
                    <div class="color-option">
                        <div class="color-preview" id="cerise" style="background-color: #EA3D69;"></div>
                        <h5>Cerise</h5>
                    </div>
                    <div class="color-option">
                        <div class="color-preview" id="lime" style="background-color: #36C945;"></div>
                        <h5>Lime</h5>
                    </div>
                    <div class="color-option">
                        <div class="color-preview" id="teal" style="background-color: #2FCCB9;"></div>
                        <h5>Teal</h5>
                    </div>
                    <div class="color-option">
                        <div class="color-preview" id="pink" style="background-color: #F50D7A;"></div>
                        <h5>Pink</h5>
                    </div>
                    <div class="color-option">
                        <div class="color-preview" id="black" style="background-color: #212524;"></div>
                        <h5>Black</h5>
                    </div>
                </div>
                <button id="update-theme-button" class="button font">Update</button>
            </div>

        </div>

        <div id="make-note" hidden>
            <div class="popup">
                <h4>Add a note to the calendar</h4>
                <textarea id="edit-post-it" class="font" name="post-it" autofocus></textarea>
                <div><button class="button font post-it-button" id="add-post-it">Post It</button>
                    <button class="button font post-it-button" id="delete-button">Delete It</button>
                </div>
            </div>
    </dialog>
 
    <script type="text/javascript" src="js/updateData.js"></script>

    <script language="JavaScript">
        //更新日期相關資料
        var monthDays = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 32]; //第一個元素放個啞巴元素，好讓我們可以用1~12來存取月份的天數
        var today = new Date();
        var curYear = today.getFullYear();
        var curMonth = today.getMonth() + 1; //函式傳回0~11，加個1符合我們的習慣
        //判斷今年是否是閏
        if ( ((curYear % 4 == 0) && (curYear % 100 != 0)) || (curYear % 400 == 0) ) monthDays[2] = 29;
        var weekDay = (new Date(curYear, curMonth,1)).getDay() ; //取得今年今月1日為禮拜幾
        // console.log(weekDay);
        var days = document.getElementsByTagName("td");
        //中間段，當月
        for (var i = 1; i <= monthDays[curMonth]; i++){
          days[weekDay + i - 1].innerHTML = i;
        }
        //上個月段
        for (var i = (weekDay-1), day = monthDays[curMonth-1]; i >=0; i--, day--){
          days[i].innerHTML = day;
        }
        //下個月段
        for (var i = (weekDay+monthDays[curMonth]), day = 1; i <days.length; i++, day++){
          days[i].innerHTML = day;
        }
        if (document.getElementById("current-day")) {
            document.getElementById("current-day").removeAttribute("id");
        }
        thisDate = today.getDate(); //取得今天的數字
        days[weekDay + thisDate - 1].setAttribute("id", "current-day");

        for (let i = 0; i < days.length; i++){
            if (days[i].classList.contains("color")) days[i].classList.remove("color");
        }
        //中間段，當月
        for (let i = 0; i < monthDays[calendarData.calendar.month]; i++){
            days[weekDay + i].innerHTML = (i+1);
        }
        //上個月段
        preMonth = thisMonth-1;
        if (preMonth == 0) preMonth = 12;
        for (let i = (weekDay-1), day = monthDays[preMonth]; i >=0; i--, day--){
            days[i].innerHTML = day;
             days[i].classList.add("color");
        }
        //下個月段
        for (let i = (weekDay+monthDays[thisMonth]), day = 1; i <days.length; i++, day++){
            days[i].innerHTML = day;
            days[i].classList.add("color");
        }

      </script>
</body>

</html>